import{j as e,f}from"./index-DCOSVs-d.js";import{r as t,u as v,L as y}from"./react-vendor-Cc0P4_ZX.js";/* empty css                 */import"./utils-vendor-azd6ta8e.js";import"./ai-vendor-CB5T-uN5.js";import"./ui-vendor-SmiJk_kJ.js";import"./chart-vendor-BcjzKorn.js";const A=()=>{const[r,h]=t.useState(""),[i,g]=t.useState(""),[n,p]=t.useState(""),[l,N]=t.useState(""),[o,u]=t.useState(null),[c,m]=t.useState(!1),x=v(),j=async a=>{a.preventDefault(),m(!0),u(null);try{const s=await f("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clinicName:r,userName:i,userEmail:n,userPassword:l})}),d=await s.json();if(!s.ok)throw new Error(d.message||`HTTP error! status: ${s.status}`);console.log("Registration successful:",d),alert("Registration successful! Please log in."),x("/login")}catch(s){console.error("Registration failed:",s),u(s.message||"Registration failed. Please try again.")}finally{m(!1)}};return e.jsx("div",{className:"auth-page-container",children:e.jsxs("div",{className:"auth-form-card",children:[e.jsx("h2",{className:"auth-title",children:"Register Clinic & Admin"}),e.jsxs("form",{onSubmit:j,className:"auth-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"clinicName",children:"Clinic Name"}),e.jsx("input",{id:"clinicName",name:"clinicName",type:"text",required:!0,value:r,onChange:a=>h(a.target.value),className:"auth-text-input",placeholder:"Your Clinic's Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"userName",children:"Your Name (Admin)"}),e.jsx("input",{id:"userName",name:"userName",type:"text",required:!0,value:i,onChange:a=>g(a.target.value),className:"auth-text-input",placeholder:"Your Full Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"userEmail",children:"Your Email (Admin Login)"}),e.jsx("input",{id:"userEmail",name:"userEmail",type:"email",autoComplete:"email",required:!0,value:n,onChange:a=>p(a.target.value),className:"auth-text-input",placeholder:"you@example.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"userPassword",children:"Password"}),e.jsx("input",{id:"userPassword",name:"userPassword",type:"password",required:!0,minLength:6,value:l,onChange:a=>N(a.target.value),className:"auth-text-input",placeholder:"Min. 6 characters"})]}),o&&e.jsx("div",{className:"auth-error-message",children:e.jsx("p",{children:o})}),e.jsx("div",{className:"form-group",children:e.jsx("button",{type:"submit",disabled:c,className:"auth-submit-button",children:c?"Registering...":"Register Clinic & Admin"})})]}),e.jsxs("div",{className:"auth-navigation-link-container",children:["Already have an account?"," ",e.jsx(y,{to:"/login",className:"auth-navigation-link",children:"Sign in"})]}),e.jsx("p",{className:"auth-attribution",children:"from Newtons AI"})]})})};export{A as default};
