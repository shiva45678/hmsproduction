import{r as L,j as e,F as S,a as k,b as C}from"./index-CRA8Xzko.js";import{f as E,r as a,L as p}from"./react-vendor-Cc0P4_ZX.js";import"./utils-vendor-azd6ta8e.js";import"./ai-vendor-CB5T-uN5.js";import"./ui-vendor-SmiJk_kJ.js";import"./chart-vendor-BcjzKorn.js";const D=({user:h,onLogout:x,userRole:v,isOpen:c,onClose:i})=>{const j=E(),[d,f]=a.useState(""),w=L[v]||[],[m,b]=a.useState(500),o=a.useRef(!1),g=a.useCallback(s=>{o.current=!0,s.preventDefault()},[]),r=a.useCallback(()=>{o.current=!1},[]),l=a.useCallback(s=>{if(o.current){const t=window.innerWidth-s.clientX;t>250&&t<window.innerWidth*.8&&b(t)}},[]);a.useEffect(()=>(window.addEventListener("mousemove",l),window.addEventListener("mouseup",r),()=>{window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",r)}),[l,r]);const N=w.map(s=>({...s,links:s.links.filter(t=>t.name.toLowerCase().includes(d.toLowerCase()))})).filter(s=>s.links.length>0);return e.jsxs("div",{className:`side-panel ${c?"open":""}`,style:{width:`${m}px`,right:c?"0":`-${m}px`},children:[e.jsx("div",{className:"resizer",onMouseDown:g}),e.jsxs("div",{className:"side-panel-header",children:[e.jsx(p,{to:"/dashboard",className:"home-button",onClick:i,children:e.jsx(S,{})}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(k,{style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),e.jsx("input",{type:"text",placeholder:"Search pages...",className:"search-bar",value:d,onChange:s=>f(s.target.value)})]}),e.jsx("button",{className:"close-button",onClick:i,children:"Ã—"})]}),e.jsx("nav",{children:N.map((s,t)=>e.jsxs("div",{className:"page-section",children:[e.jsx("div",{className:"page-title",children:s.title}),e.jsx("ul",{className:"sub-page-list",children:s.links.map(n=>{const u=n.icon;return e.jsx("li",{children:e.jsxs(p,{to:n.path,className:j.pathname===n.path?"active":"",onClick:i,children:[u&&e.jsx(u,{})," ",n.name]})},n.path)})})]},t))}),e.jsxs("div",{className:"user-info-section",children:[e.jsxs("span",{className:"user-name",children:["Welcome, ",h.name]}),e.jsxs("button",{onClick:x,className:"logout-button-sidebar",children:[e.jsx(C,{})," Logout"]})]})]})};export{D as default};
